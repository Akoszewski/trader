paramsEmaOrderBest = {(1, 2, 3, 4, 5): 'BUY', (1, 2, 3, 5, 4): 'HOLD', (1, 2, 4, 3, 5): 'SELL', (1, 2, 4, 5, 3): 'SELL', (1, 2, 5, 3, 4): 'SELL', (1, 2, 5, 4, 3): 'HOLD', (1, 3, 2, 4, 5): 'HOLD', (1, 3, 2, 5, 4): 'BUY', (1, 3, 4, 2, 5): 'SELL', (1, 3, 4, 5, 2): 'BUY', (1, 3, 5, 2, 4): 'SELL', (1, 3, 5, 4, 2): 'SELL', (1, 4, 2, 3, 5): 'SELL', (1, 4, 2, 5, 3): 'HOLD', (1, 4, 3, 2, 5): 'HOLD', (1, 4, 3, 5, 2): 'HOLD', (1, 4, 5, 2, 3): 'SELL', (1, 4, 5, 3, 2): 'BUY', (1, 5, 2, 3, 4): 'HOLD', (1, 5, 2, 4, 3): 'HOLD', (1, 5, 3, 2, 4): 'BUY', (1, 5, 3, 4, 2): 'BUY', (1, 5, 4, 2, 3): 'HOLD', (1, 5, 4, 3, 2): 'HOLD', (2, 1, 3, 4, 5): 'BUY', (2, 1, 3, 5, 4): 'SELL', (2, 1, 4, 3, 5): 'SELL', (2, 1, 4, 5, 3): 'HOLD', (2, 1, 5, 3, 4): 'SELL', (2, 1, 5, 4, 3): 'SELL', (2, 3, 1, 4, 5): 'HOLD', (2, 3, 1, 5, 4): 'SELL', (2, 3, 4, 1, 5): 'BUY', (2, 3, 4, 5, 1): 'SELL', (2, 3, 5, 1, 4): 'SELL', (2, 3, 5, 4, 1): 'BUY', (2, 4, 1, 3, 5): 'HOLD', (2, 4, 1, 5, 3): 'BUY', (2, 4, 3, 1, 5): 'BUY', (2, 4, 3, 5, 1): 'HOLD', (2, 4, 5, 1, 3): 'HOLD', (2, 4, 5, 3, 1): 'BUY', (2, 5, 1, 3, 4): 'BUY', (2, 5, 1, 4, 3): 'SELL', (2, 5, 3, 1, 4): 'BUY', (2, 5, 3, 4, 1): 'BUY', (2, 5, 4, 1, 3): 'SELL', (2, 5, 4, 3, 1): 'BUY', (3, 1, 2, 4, 5): 'SELL', (3, 1, 2, 5, 4): 'SELL', (3, 1, 4, 2, 5): 'HOLD', (3, 1, 4, 5, 2): 'HOLD', (3, 1, 5, 2, 4): 'HOLD', (3, 1, 5, 4, 2): 'BUY', (3, 2, 1, 4, 5): 'HOLD', (3, 2, 1, 5, 4): 'BUY', (3, 2, 4, 1, 5): 'SELL', (3, 2, 4, 5, 1): 'HOLD', (3, 2, 5, 1, 4): 'HOLD', (3, 2, 5, 4, 1): 'SELL', (3, 4, 1, 2, 5): 'SELL', (3, 4, 1, 5, 2): 'HOLD', (3, 4, 2, 1, 5): 'SELL', (3, 4, 2, 5, 1): 'HOLD', (3, 4, 5, 1, 2): 'HOLD', (3, 4, 5, 2, 1): 'SELL', (3, 5, 1, 2, 4): 'BUY', (3, 5, 1, 4, 2): 'SELL', (3, 5, 2, 1, 4): 'BUY', (3, 5, 2, 4, 1): 'HOLD', (3, 5, 4, 1, 2): 'SELL', (3, 5, 4, 2, 1): 'HOLD', (4, 1, 2, 3, 5): 'HOLD', (4, 1, 2, 5, 3): 'SELL', (4, 1, 3, 2, 5): 'HOLD', (4, 1, 3, 5, 2): 'BUY', (4, 1, 5, 2, 3): 'BUY', (4, 1, 5, 3, 2): 'BUY', (4, 2, 1, 3, 5): 'HOLD', (4, 2, 1, 5, 3): 'HOLD', (4, 2, 3, 1, 5): 'HOLD', (4, 2, 3, 5, 1): 'SELL', (4, 2, 5, 1, 3): 'SELL', (4, 2, 5, 3, 1): 'SELL', (4, 3, 1, 2, 5): 'HOLD', (4, 3, 1, 5, 2): 'SELL', (4, 3, 2, 1, 5): 'SELL', (4, 3, 2, 5, 1): 'HOLD', (4, 3, 5, 1, 2): 'BUY', (4, 3, 5, 2, 1): 'BUY', (4, 5, 1, 2, 3): 'SELL', (4, 5, 1, 3, 2): 'BUY', (4, 5, 2, 1, 3): 'SELL', (4, 5, 2, 3, 1): 'BUY', (4, 5, 3, 1, 2): 'HOLD', (4, 5, 3, 2, 1): 'HOLD', (5, 1, 2, 3, 4): 'SELL', (5, 1, 2, 4, 3): 'HOLD', (5, 1, 3, 2, 4): 'BUY', (5, 1, 3, 4, 2): 'HOLD', (5, 1, 4, 2, 3): 'SELL', (5, 1, 4, 3, 2): 'BUY', (5, 2, 1, 3, 4): 'BUY', (5, 2, 1, 4, 3): 'HOLD', (5, 2, 3, 1, 4): 'HOLD', (5, 2, 3, 4, 1): 'SELL', (5, 2, 4, 1, 3): 'BUY', (5, 2, 4, 3, 1): 'SELL', (5, 3, 1, 2, 4): 'SELL', (5, 3, 1, 4, 2): 'HOLD', (5, 3, 2, 1, 4): 'SELL', (5, 3, 2, 4, 1): 'SELL', (5, 3, 4, 1, 2): 'BUY', (5, 3, 4, 2, 1): 'SELL', (5, 4, 1, 2, 3): 'HOLD', (5, 4, 1, 3, 2): 'HOLD', (5, 4, 2, 1, 3): 'HOLD', (5, 4, 2, 3, 1): 'HOLD', (5, 4, 3, 1, 2): 'SELL', (5, 4, 3, 2, 1): 'HOLD'}
def trainEmaOrderStrategy(data, strategy):
    chunkSize = daysToIntervals(300)
    startDelay = 201

    print("Tuning parameters...")
    bestResult = 0
    bestParams = []
    for i in range(10000):
        params = genRandomEmaOrderStrategyParams()
        result = StrategyTester.testStrategy(50, strategy, data, params, chunkSize, startDelay, True)
        print(f"(Test {i}) result: {result}")
        print("")
        if (result > bestResult):
            bestResult = result
            bestParams = params
            print(f"Best result is now: {bestResult}")

    print(f"Best parameters are: {bestParams}")
    print(f"Best result: {bestResult}")
    return bestParams